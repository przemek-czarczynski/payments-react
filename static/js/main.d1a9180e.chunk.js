(this.webpackJsonppayments=this.webpackJsonppayments||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){},47:function(e,t,a){e.exports=a.p+"static/media/paymentsListLayout.2792f58f.jpg"},49:function(e,t,a){e.exports=a(76)},54:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(42),l=a.n(s),i=(a(54),a(10)),c=a(18),o=a(4),u=a(5),m=a(7),d=a(6),h=a(8),p=r.a.createContext(null),f=function(e){return function(t){return r.a.createElement(p.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},E=p,g=a(29),b=a.n(g),v=(a(55),a(56),{apiKey:"AIzaSyCaQthZG1uRxyEoyXsocEPaRA4zv4T9xis",authDomain:"payments-21437.firebaseapp.com",databaseURL:"https://payments-21437.firebaseio.com",projectId:"payments-21437",storageBucket:"payments-21437.appspot.com",messagingSenderId:"942636324987",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/payments-react",REACT_APP_API_KEY:"AIzaSyCaQthZG1uRxyEoyXsocEPaRA4zv4T9xis",REACT_APP_APPID:"1:942636324987:web:2e802d41cdaf5351266ade",REACT_APP_AUTH_DOMAIN:"payments-21437.firebaseapp.com",REACT_APP_DATABASE_URL:"https://payments-21437.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"942636324987",REACT_APP_PROJECT_ID:"payments-21437",REACT_APP_STORAGE_BUCKET:"payments-21437.appspot.com"}).REACT_APP_APIID}),y=function e(){var t=this;Object(o.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},b.a.initializeApp(v),this.auth=b.a.auth(),this.db=b.a.database()},w=f((function(e){var t=e.firebase;return r.a.createElement("button",{className:"x",type:"button",onClick:function(){return function(e){e.doSignOut()}(t)}},"Logout")})),O=r.a.createContext(null),N=function(e){var t=function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={authUser:null},t}return Object(h.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(O.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return f(t)},C=a(21),j=function(e){return function(t){var a=function(a){function n(){return Object(o.a)(this,n),Object(m.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(h.a)(n,a),Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(O.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),n}(r.a.Component);return Object(C.a)(c.g,f)(a)}},S=(a(62),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isToggled:!1,className:""},a.handleClass=function(){a.state.isToggled?a.setState({isToggled:!a.state.isToggled,className:""}):a.setState({isToggled:!a.state.isToggled,className:"expanded"})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e="nav-toggle ".concat(this.state.className),t="nav ".concat(this.state.className);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e,onClick:this.handleClass},r.a.createElement("div",{className:"nav-toggle-bar"})),r.a.createElement("nav",{className:t,onClick:this.handleClass},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/payments"},"Payments")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/account"},"Account")),r.a.createElement("li",null,r.a.createElement(w,null)))))}}]),t}(n.Component)),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isToggled:!1,className:""},a.handleClass=function(){a.state.isToggled?a.setState({isToggled:!a.state.isToggled,className:""}):a.setState({isToggled:!a.state.isToggled,className:"expanded"})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e="nav-toggle ".concat(this.state.className),t="nav ".concat(this.state.className);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e,onClick:this.handleClass},r.a.createElement("div",{className:"nav-toggle-bar"})),r.a.createElement("nav",{className:t,onClick:this.handleClass},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/signin"},"Login")))))}}]),t}(n.Component),D=function(){return r.a.createElement("div",null,r.a.createElement(O.Consumer,null,(function(e){return e?r.a.createElement(S,{authUser:e}):r.a.createElement(P,null)})))},k=a(47),A=a.n(k);var R=function(){return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Manage your bills")),r.a.createElement("div",{className:"holder columns"},r.a.createElement("p",null,"We\u2019ve all got a ton of bills to juggle and pay every month. So if you struggle to pay your bills on time or you are forgetting your monthly payments, don\u2019t worry we have a solution for you."),r.a.createElement("p",null,"This application help you keep track of them and can serve as a checklist each month to be sure you don\u2019t miss any payments."),r.a.createElement("div",{className:"holder-2col"},r.a.createElement("img",{className:"layout-img",src:A.a,alt:"layout of the main paymnets page with the bills list"}),r.a.createElement("p",{className:"layout-signup"},"Don't have an account? ",r.a.createElement(i.b,{className:"btn-save",to:"/signup"},"Sign Up")))))},M=a(11),T=a(13),I=(a(63),{username:"",email:"",passwordOne:"",passwordTwo:"",error:null}),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,s=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(r,s).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r})})).then((function(){a.setState(Object(T.a)({},I)),a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},I),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,s=e.passwordTwo,l=e.error,i=n!==s||""===n||""===a||""===t;return r.a.createElement("form",{className:"signin",onSubmit:this.onSubmit},r.a.createElement("label",null,"full name"),r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text"}),r.a.createElement("label",null,"email address"),r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text"}),r.a.createElement("label",null,"password"),r.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password"}),r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{name:"passwordTwo",value:s,onChange:this.onChange,type:"password"}),r.a.createElement("button",{disabled:i,type:"submit"},"Sign Up"),l&&r.a.createElement("p",null,l.message))}}]),t}(n.Component),F=function(){return r.a.createElement("p",{className:"SignUpLnk"},"Don't have an account? ",r.a.createElement(i.b,{to:"/signup"},"Sign Up"))},U=Object(C.a)(c.g,f)(x),L=function(){return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Sign Up Form")),r.a.createElement(U,null))},_=(a(64),{email:"",error:null}),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then((function(){a.setState(Object(T.a)({},_))})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},_),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{className:"signin",onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Enter Your Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),t}(n.Component),z=function(){return r.a.createElement("p",{className:"PswForgotLnk"},r.a.createElement(i.b,{to:"/pw-forget"},"Forgot Password?"))},Y=function(){return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Password Forget")),r.a.createElement(H,null))},H=f(W),B=(a(65),{email:"",password:"",error:null}),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(){a.setState(Object(T.a)({},B)),a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},B),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,s=""===a||""===t;return r.a.createElement("form",{className:"signin",onSubmit:this.onSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password"}),n?r.a.createElement("p",{className:"errorMsg"},n.message):r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("button",{disabled:s,type:"submit"},"Login"))}}]),t}(n.Component),G=Object(C.a)(c.g,f)(V),q=function(){return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Login")),r.a.createElement(G,null),r.a.createElement(z,null),r.a.createElement(F,null))},J=j((function(e){return!!e}))((function(){return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Home Page")),r.a.createElement("div",{className:"holder columns"},r.a.createElement("p",null,"The Home Page is accessible by every signed in user."),r.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Enim sapiente placeat quisquam modi maxime unde aspernatur natus mollitia quos laborum dignissimos animi minima molestias, totam cum nemo, accusamus, recusandae velit.")))})),K=a(22),Z=a.n(K),Q=a(27),X=a(48),$=(a(40),function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),n=e.getDate();return"".concat(t,"-").concat(a,"-").concat(n)}),ee=function(e){var t=new Date($(new Date));return((new Date(e)-t)/864e5).toFixed()};function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ne=r.a.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}),re=function(e){var t=e.svgRef,a=e.title,n=ae(e,["svgRef","title"]);return r.a.createElement("svg",te({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"trash-alt",className:"svg-inline--fa fa-trash-alt fa-w-14",role:"img",viewBox:"0 0 448 512",ref:t},n),a?r.a.createElement("title",null,a):null,ne)},se=r.a.forwardRef((function(e,t){return r.a.createElement(re,te({svgRef:t},e))}));a.p;var le=function(e){var t=r.a.useState(!1),a=Object(X.a)(t,2),n=a[0],s=a[1],l=e.item,i=l.id,c=l.title,o=l.amount,u=l.date,m=l.paid,d=e.confirmPaid,h=e.handleEdit,p=e.handleDelete,f=function(){h(i)},E=m?r.a.createElement("p",{className:"btn-confirmed center"},"Paid"):r.a.createElement("p",{className:"btn-not-confirmed center",onClick:function(){d(i)}},"Mark as Paid"),g={};n?g={backgroundColor:"rgb(255, 255, 200)"}:(ee(u)<0&&!m&&(g={backgroundColor:"rgb(200, 21, 21)",color:"white"}),"0"===ee(u)&&(g={backgroundColor:"rgb(240, 191, 30)",color:"white"}),m&&(g={backgroundColor:"rgb(181, 254, 97)"}));var b=function(){s(!n)};return r.a.createElement("div",{className:"itemRow",style:g,onMouseEnter:b,onMouseLeave:b},r.a.createElement("p",{className:"itemRow-details ",onClick:f},c),r.a.createElement("p",{className:"itemRow-details align-right",onClick:f},parseFloat(o).toFixed(2)),r.a.createElement("p",{className:"itemRow-details center",onClick:f},u),ee(u)<0&&!m?r.a.createElement("p",{className:"itemRow-details center",onClick:f},"overdue"):m?r.a.createElement("p",{className:"itemRow-details center",onClick:f},"-"):r.a.createElement("p",{className:"itemRow-details center",onClick:f},ee(u)),E,r.a.createElement("div",{className:"svgWrapper",onClick:function(){p(i)}},r.a.createElement(se,{className:"trash"})))},ie=(a(67),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={notPaid:!0,startDate:(new Date).toISOString().substr(0,10),endDate:"",overdueList:[],isClickedOverdue:!1},a.getDates=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=new Date,n=t.getFullYear(),r=t.getMonth()+1>9?t.getMonth()+1:"0".concat(t.getMonth()+1),s=t.getDate()>9?t.getDate():"0".concat(t.getDate()),l="".concat(n,"-").concat(r,"-").concat(s),i=t.getTime()+864e5*e;n=(t=new Date(i)).getFullYear(),r=t.getMonth()+1>9?t.getMonth()+1:"0".concat(t.getMonth()+1),s=t.getDate()>9?t.getDate():"0".concat(t.getDate()),i="".concat(n,"-").concat(r,"-").concat(s),a.setState({startDate:l,endDate:i})},a.handleChangeDate=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.setOverduePayments=function(e){a.setState({overdueList:e,isClickedOverdue:!a.state.isClickedOverdue})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDates()}},{key:"render",value:function(){var e=this,t=[],a=this.props,n=a.confirmPaid,s=a.handleEdit,l=a.handleDelete,i=a.payments.filter((function(e){var t=(new Date).toISOString().substr(0,10);return!1===e.paid&&e.date<t}));(t=a.payments.sort((function(e,t){return ee(e.date)-ee(t.date)})),this.state.notPaid)?t=Object(Q.a)(t).filter((function(t){return!1===t.paid&&t.date>=e.state.startDate&&t.date<=e.state.endDate})):t=t.filter((function(t){return t.date>=e.state.startDate&&t.date<=e.state.endDate}));var c=function(){e.setState({notPaid:!e.state.notPaid,isClickedOverdue:!1})};this.state.isClickedOverdue&&(console.log(this.state.overdueList),t=Object(Q.a)(this.state.overdueList));var o=t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement(le,{item:e,confirmPaid:n,handleEdit:s,handleDelete:l}))})),u=function(){return e.state.isClickedOverdue?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dateRange"},r.a.createElement("label",null,"From:",r.a.createElement("input",{type:"date",id:"startDate",onChange:e.handleChangeDate,value:e.state.startDate})),r.a.createElement("label",null,"To:",r.a.createElement("input",{type:"date",id:"endDate",onChange:e.handleChangeDate,value:e.state.endDate}))))},m=function(){return r.a.createElement(r.a.Fragment,null,function(){var t="btn-overdue";return e.state.isClickedOverdue&&(t="btn-overdue-clicked"),i.length>0?r.a.createElement("div",{className:t,onClick:function(){return e.setOverduePayments(i)}},r.a.createElement("p",{className:"p-overdue"},e.state.isClickedOverdue?"Click here to back to the previous list":"You have ".concat(i.length," total overdue payments - click here to show"))):""}(),r.a.createElement("div",{className:"filterRow"},r.a.createElement("div",{className:"filterRange"},u()),r.a.createElement("p",{className:"btn-save",onClick:c},e.state.notPaid?"Show All":"Show UnPaid")),r.a.createElement("div",{className:"tbheader"},r.a.createElement("p",{className:"itemRow-details"},"Title of payment"),r.a.createElement("p",{className:"itemRow-details tbheader-amount"},"Amount"),r.a.createElement("p",{className:"itemRow-details tbheader-date"},"Due Date"),r.a.createElement("p",{className:"itemRow-details tbheader-days"},"Left days to pay"),r.a.createElement("p",{className:"itemRow-details tbheader-status"},"Status"),r.a.createElement("p",{className:"itemRow-trash"})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"listPage"},function(){var e=m();return a.payments.length>0?e:r.a.createElement("h1",null," Empty List ")}(),o))}}]),t}(n.Component)),ce=(a(41),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={id:"",title:"",details:"",amount:"0.00",date:(new Date).toISOString().substr(0,10),dayalert:"0",paid:!1,redirect:!1,cancel:!1,errorMsg:""},a.renderRedirect=function(){if(a.state.redirect||a.state.cancel)return r.a.createElement(c.a,{to:"/payments"})},a.handleChange=function(e){var t;a.setState((t={},Object(M.a)(t,e.target.id,e.target.value),Object(M.a)(t,"errorMsg",""),t))},a.handleSubmit=function(e){if(e.preventDefault(),""===a.state.title||""===a.state.amount||parseFloat(a.state.amount)<=0)return a.setState({errorMsg:"The Title field cannot be empty and Amount must be greater than 0"}),null;a.setState({redirect:!0,errorMsg:""}),a.props.addNew(a.state)},a.handleCancel=function(e){a.props.clearPath(),a.setState({cancel:!0})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.changeFlag()}},{key:"render",value:function(){return r.a.createElement("div",{className:"addnewpayment"},this.renderRedirect(),r.a.createElement("form",{className:"addnewpayment-form",onSubmit:this.handleSubmit},r.a.createElement("p",{className:"description"},"Add New Payment"),r.a.createElement("label",{htmlFor:"title"},"Title: "),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange,value:this.state.title}),r.a.createElement("label",{className:"textarea",htmlFor:"details"},"Details:"),r.a.createElement("textarea",{id:"details",onChange:this.handleChange,value:this.state.details}),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",null,"Amount:",r.a.createElement("input",{className:"form-amount",type:"number",step:"0.01",id:"amount",min:"0",onChange:this.handleChange,value:this.state.amount})),r.a.createElement("label",{className:"form-label"},"Date Of Payment:",r.a.createElement("input",{className:"form-date",type:"date",id:"date",onChange:this.handleChange,value:this.state.date}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-btns"},r.a.createElement("button",{className:"btn-save"},"Save"),r.a.createElement("button",{className:"btn-save",onClick:this.handleCancel},"Cancel"))),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg?this.state.errorMsg:""))}}]),t}(n.Component)),oe=a(19),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={id:"",title:"",details:"",amount:"0",date:"",dayalert:"0",paid:!1,redirect:!1,cancel:!1,errorMsg:""},a.clearPath=a.props.clearPath,a.renderRedirect=function(){if(a.state.redirect||a.state.cancel)return a.clearPath(),r.a.createElement(c.a,{to:"/payments"})},a.handlePaid=function(e){a.setState({paid:"1"===e.currentTarget.value})},a.handleChange=function(e){var t;a.setState((t={},Object(M.a)(t,e.target.id,e.target.value),Object(M.a)(t,"errorMsg",""),t))},a.handleSubmit=function(e){if(e.preventDefault(),""===a.state.title||""===a.state.amount||parseFloat(a.state.amount)<=0)return a.setState({errorMsg:"The Title field cannot be empty and Amount must be greater than 0"}),null;a.setState({redirect:!0}),a.setState({refState:null}),a.props.handleSubmitEdit(a.state)},a.handleCancel=function(e){a.setState({cancel:!0})},a.isPaid=function(){var e=a.state.paid?"1":"0";return r.a.createElement("label",{className:"form-isPaid"},"Payment is Paid",r.a.createElement("select",{name:"paid",value:e,onChange:a.handlePaid},r.a.createElement("option",{value:"1"},"Yes"),r.a.createElement("option",{value:"0"},"No")))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,s,l,i;return Z.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=this.state,t=Object(oe.firestore)().collection("documents").doc(this.props.id),c.next=4,Z.a.awrap(t.get().then((function(t){t.exists&&(e.title=t.data().title,e.details=t.data().details,e.amount=t.data().amount,e.date=t.data().date,e.dayalert=t.data().dayalert,e.paid=t.data().paid)})).catch((function(e){console.log("Error getting document:",e)})));case 4:a=e.title,n=e.details,r=e.amount,s=e.date,l=e.dayalert,i=e.paid,this.setState({id:this.props.id,title:a,details:n,amount:r,date:s,dayalert:l,paid:i});case 6:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"addnewpayment"},this.renderRedirect(),r.a.createElement("form",{className:"addnewpayment-form",onSubmit:this.handleSubmit},r.a.createElement("p",{className:"description"},"Edit Payment Details"),r.a.createElement("label",{htmlFor:"title"},"Title:",r.a.createElement("input",{className:"input-450",type:"text",id:"title",onChange:this.handleChange,value:this.state.title})),r.a.createElement("label",{className:"textarea",htmlFor:"details"},"Details:",r.a.createElement("textarea",{className:"input-450",id:"details",onChange:this.handleChange,value:this.state.details})),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",null,"Amount:",r.a.createElement("input",{className:"form-amount",type:"number",step:"0.01",id:"amount",min:"0",onChange:this.handleChange,value:this.state.amount})),r.a.createElement("label",{className:"form-label"},"Date Of Payment:",r.a.createElement("input",{className:"form-date",type:"date",id:"date",onChange:this.handleChange,value:this.state.date}))),this.isPaid(),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-btns"},r.a.createElement("button",{className:"btn-save"},"Zapisz"),r.a.createElement("button",{className:"btn-save",onClick:this.handleCancel},"Anuluj"))),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg?this.state.errorMsg:""))}}]),t}(n.Component),me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={payments:[],isFetching:!1,isFetched:!1,isEditing:!1,IdEdit:"",isAddingNew:!1,redirectPath:""},a.handleSubmitEdit=function(e){var t=e.title,n=e.details,r=e.amount,s=e.date,l=e.dayalert,i=e.paid;Object(oe.firestore)().collection("documents").doc(a.state.IdEdit).update({title:t,details:n,amount:r,date:s,dayalert:l,paid:i});var c=a.state.payments.filter((function(e){return e.id!==a.state.IdEdit}));c.push(e),a.setState({payments:c,isEditing:!1})},a.confirmPaid=function(e){Object(oe.firestore)().collection("documents").doc(e).update({paid:!0});var t=null;if(a.state.payments.filter((function(a,n){return a.id===e&&(t=n),null})),t>-1){var n=a.state.payments;n[t].paid=!0,a.setState({payments:n})}},a.addNew=function(e){e.user=a.props.authUser.email,Object(oe.firestore)().collection("documents").add(e).then((function(t){e.id=t.id})).catch((function(e){}));var t=[].concat(Object(Q.a)(a.state.payments),[e]);a.setState({payments:t,isAddingNew:!1})},a.changeFlag=function(){a.setState({isAddingNew:!0})},a.handleEdit=function(e){a.setState({IdEdit:e}),a.setState({isEditing:!0}),a.setState({redirectPath:"payments/edit"})},a.handleDelete=function(e){var t=a.state.payments.filter((function(t){return t.id!==e}));a.setState({payments:t}),Object(oe.firestore)().collection("documents").doc(e).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},a.renderRedirect=function(){var e=a.state.redirectPath;if(e)return r.a.createElement(c.a,{to:e})},a.clearPath=function(){a.setState({redirectPath:"",isEditing:!1,isAddingNew:!1})},a.showMessage=function(){return a.state.isFetching?r.a.createElement("div",{className:"center"},r.a.createElement("h1",null,"Fetchng Data...")):""},a.showList=function(){return a.state.isEditing||a.state.isAddingNew?"":r.a.createElement(ie,{payments:a.state.payments,confirmPaid:a.confirmPaid,handleEdit:a.handleEdit,handleDelete:a.handleDelete})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this;return Z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],t=this.props.authUser.email,this.setState({isFetching:!0}),n.next=5,Z.a.awrap(Object(oe.firestore)().collection("documents").get().then((function(a){return a.forEach((function(a){if(t===a.data().user){var n=a.data();n.id=a.id,e.push(n)}})),e})).then((function(e){a.setState({payments:e,isFetched:!0})})));case 5:this.setState({isFetching:!1});case 6:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.isAddingNew||this.state.isEditing?{display:"none"}:{display:"flex"};return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement(i.a,null,this.renderRedirect(),r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Your Payments List"),r.a.createElement("div",{className:"topInfo-add"},r.a.createElement(i.b,{to:"/payments/add",className:"topInfo-add-link",style:e},"Add New"))),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/payments/add"},r.a.createElement(ce,{addNew:this.addNew,changeFlag:this.changeFlag,clearPath:this.clearPath})),r.a.createElement(c.b,{path:"/payments/edit"},r.a.createElement(ue,{id:this.state.IdEdit,clearPath:this.clearPath,handleSubmitEdit:this.handleSubmitEdit})))),this.showMessage(),this.showList())}}]),t}(n.Component),de=function(){return r.a.createElement("div",null,"Access danied. You are not log in. Please Login to your account.")},he=function(){return r.a.createElement("div",null,r.a.createElement(O.Consumer,null,(function(e){return e?r.a.createElement(me,{authUser:e}):r.a.createElement(de,null)})))},pe={passwordOne:"",passwordTwo:"",error:null},fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then((function(){a.setState(Object(T.a)({},pe))})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},pe),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,s=t!==a||""===t;return r.a.createElement("form",{className:"signin",onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{className:"confirmPass",name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("div",{className:"line"}),r.a.createElement("button",{disabled:s,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component),Ee=f(fe),ge=j((function(e){return!!e}))((function(){return r.a.createElement(O.Consumer,null,(function(e){return r.a.createElement("div",{className:"wrapper columns"},r.a.createElement("div",{className:"topInfo"},r.a.createElement("h1",{className:"topInfo-h1"},"Account Details")),r.a.createElement("h3",null,"User name: ",e.email),r.a.createElement(Ee,null))}))})),be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={loading:!1,users:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",(function(t){var a=t.val(),n=Object.keys(a).map((function(e){return Object(T.a)({},a[e],{uid:e})}));e.setState({users:n,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),a&&r.a.createElement("div",null,"Loading ..."),r.a.createElement(ve,{users:t}))}}]),t}(n.Component),ve=function(e){var t=e.users;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))})))},ye=f(be),we=N((function(){return r.a.createElement(i.a,{basename:"/payments-react"},r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement(c.b,{exact:!0,path:"/",component:R}),r.a.createElement(c.b,{path:"/signup",component:L}),r.a.createElement(c.b,{path:"/signin",component:q}),r.a.createElement(c.b,{path:"/pw-forget",component:Y}),r.a.createElement(c.b,{path:"/home",component:J}),r.a.createElement(c.b,{path:"/payments",component:he}),r.a.createElement(c.b,{path:"/payments/edit",component:ue}),r.a.createElement(c.b,{path:"/account",component:ge}),r.a.createElement(c.b,{path:"/admin",component:ye})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E.Provider,{value:new y},r.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.d1a9180e.chunk.js.map